/**
 * @fileoverview Tests for dot-notation rule.
 * @author Josh Perez
 */

//------------------------------------------------------------------------------
// Requirements
//------------------------------------------------------------------------------

var Test = require('../../eslint-test');

//------------------------------------------------------------------------------
// Constants
//------------------------------------------------------------------------------

var RULE_ID = "dot-notation";

//------------------------------------------------------------------------------
// Helpers
//------------------------------------------------------------------------------

function violation(message) {
    return {
        message: "['" + message + "'] is better written in dot notation.",
        nodeType: "MemberExpression"
    }
}

//------------------------------------------------------------------------------
// Tests
//------------------------------------------------------------------------------

new Test(RULE_ID)
    .addViolations({
        "a['b'];": violation("b"),
        "a.b['c'];": violation("c")
    })
    .addNonViolations([
      "a.b;",
      "a.b.c;",
      "a['12'];",
      "a['while'];",
      "a[b()];"
    ])
    .export(module);
